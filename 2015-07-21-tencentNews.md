title: 腾讯新闻模拟登录后发评论的一个问题
date: 2015-07-21 21:13:40
categories: notes
tags: 
---

今天在做腾讯新闻模拟登录后进行评论时，发现一个问题。无论我怎么凑参数都是errCode 100，在马老师帮助下，终于解决了。问题出在g_tk这个参数上，在做微博时因为没有用到，所以忽略了。导致我找了一天也没能找出原因。
现在简单说一下问题的处理过程。

<!--more-->
因为牵涉到g_tk，所以F12调出后程序，在search里查找，问题是有的时候可能会看不到这个search。把框子往上拖一拖，会有一个全局的搜索，输入g_tk参数，找到相关js，分析js(可以借助网上的js格式化工具),找到是什么函数调用的，如何传参等。然后把关键的函数用java改写，如果改写比较麻烦，可以借助犀牛，或内置的js引擎直接处理js脚本，得到想要结果。

总之，找的蛋疼。